<!-- 
THEME: Small Apps | Bootstrap App Landing Template
VERSION: 1.0.0
AUTHOR: Themefisher

HOMEPAGE: https://themefisher.com/products/small-apps-free-app-landing-page-template/
DEMO: https://demo.themefisher.com/small-apps/
GITHUB: https://github.com/themefisher/Small-Apps-Bootstrap-App-Landing-Template

Get HUGO Version : https://themefisher.com/products/small-apps-hugo-app-landing-theme/

WEBSITE: https://themefisher.com
TWITTER: https://twitter.com/themefisher
FACEBOOK: https://www.facebook.com/themefisher
-->

<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  ================================================== -->
  <meta charset="utf-8">
  <title>廷維工程 ｜ 主任</title>

  <!-- Mobile Specific Metas
  ================================================== -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Bootstrap App Landing Template">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="author" content="Themefisher">
  <meta name="generator" content="Themefisher Small Apps Template v1.0">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.png" />
  
  <!-- PLUGINS CSS STYLE -->
  <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="plugins/themify-icons/themify-icons.css">
  <link rel="stylesheet" href="plugins/slick/slick.css">
  <link rel="stylesheet" href="plugins/slick/slick-theme.css">
  <link rel="stylesheet" href="plugins/fancybox/jquery.fancybox.min.css">
  <link rel="stylesheet" href="plugins/aos/aos.css">

  <!-- CUSTOM CSS -->
  <link href="css/style.css" rel="stylesheet">
  <style>
    .jobs {
        display: none;
    }
  </style>

</head>

<body class="body-wrapper" data-spy="scroll" data-target=".privacy-nav">


<nav class="navbar main-nav navbar-expand-lg px-2 px-sm-0 py-2 py-lg-0">
  <div class="container">
    <a class="navbar-brand" href="index.html"><img src="images/logo.png" alt="logo"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="ti-menu"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown @@home">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">Home
            <span><i class="ti-angle-down"></i></span>
          </a>
          <!-- Dropdown list -->
          <ul class="dropdown-menu">
            <li><a class="dropdown-item @@home1" href="index.html">Homepage</a></li>
            <li><a class="dropdown-item" href="homepage-2.html">Homepage 2</a></li>
            <li><a class="dropdown-item @@home3" href="homepage-3.html">Homepage 3</a></li>

            <li class="dropdown dropdown-submenu dropright">
              <a class="dropdown-item dropdown-toggle" href="#!" id="dropdown0301" role="button"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sub Menu</a>

              <ul class="dropdown-menu" aria-labelledby="dropdown0301">
                <li><a class="dropdown-item" href="index.html">Submenu 11</a></li>
                <li><a class="dropdown-item" href="index.html">Submenu 12</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="nav-item dropdown active">
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">Pages
            <span><i class="ti-angle-down"></i></span>
          </a>
          <!-- Dropdown list -->
          <ul class="dropdown-menu">
            <li><a class="dropdown-item @@team" href="team.html">Team</a></li>
            <li><a class="dropdown-item @@career" href="career.html">Career</a></li>
            <li><a class="dropdown-item @@blog" href="blog.html">Blog</a></li>
            <li><a class="dropdown-item active" href="blog-single.html">Blog Single</a></li>
            <li><a class="dropdown-item @@privacy" href="privacy-policy.html">Privacy</a></li>
            <li><a class="dropdown-item @@faq" href="FAQ.html">FAQ</a></li>
            <li><a class="dropdown-item" href="sign-in.html">Sign In</a></li>
            <li><a class="dropdown-item" href="sign-up.html">Sign Up</a></li>
            <li><a class="dropdown-item" href="404.html">404</a></li>
            <li><a class="dropdown-item" href="comming-soon.html">Coming Soon</a></li>

            <li class="dropdown dropdown-submenu dropleft">
              <a class="dropdown-item dropdown-toggle" href="#!" id="dropdown0501" role="button"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sub Menu</a>

              <ul class="dropdown-menu" aria-labelledby="dropdown0501">
                <li><a class="dropdown-item" href="index.html">Submenu 21</a></li>
                <li><a class="dropdown-item" href="index.html">Submenu 22</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="nav-item @@about">
          <a class="nav-link" href="about.html">About</a>
        </li>
        <li class="nav-item @@contact">
          <a class="nav-link" href="logout.php">Logout</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!--====================================
=            Single Article            =
=====================================-->
<section class="section blog-single">
	<div class="container">
		<div class="row">
			<div class="col-md-10 m-auto">
				<!-- Single Post -->
                <form action="connected/punch_in_submit.php" method="POST">
                    <div class="input-group mb-3">
                        <!-- 設定工程位置 -->
                        <label class="input-group-text" for="c_site_position">工程位置</label>
                        <select class="form-select col" id="c_site_position" name="c_site_position" onchange="handleChangeCSite()">
                            <option selected>請選擇縣市...</option>
                            <option value="新北市">新北市</option>
                            <option value="台北市">台北市</option>
                            <option value="新竹市">新竹市</option>
                            <option value="台中市">台中市</option>
                        </select>
                    </div>
        
                    <div class="input-group mb-3">
                        <!-- 設定工程名稱 -->
                        <label class="input-group-text" for="c_site_name">工程名稱</label>
                        <select class="form-select col" id="c_site_name" name="c_site_name">
                            <option selected>請選擇工程...</option>
                        </select>
                    </div>
        
                    <div class="input-group mb-3">
                        <!-- 設定工人數量 -->
                        <label class="input-group-text" for="select_job">工人數量</label>
                        <select class="form-select col" id="select_job">
                            <option selected>請選擇施工項目...</option>
                            <option value="掃地">掃地</option>
                            <option value="模板">模板</option>
                            <option value="灌漿">灌漿</option>
                        </select>
                        <input type="number" aria-label="工人數量" id="c_site_worker">
                        <button type="button" class="btn btn-success" onclick="handleAddWorker()">新增</button>
                        <button type="button" class="btn btn-outline-success jobs" id="掃地" onclick="handleDelWorker(this)">掃地：</button>
                        <button type="button" class="btn btn-outline-success jobs" id="模板" onclick="handleDelWorker(this)">模板：</button>
                        <button type="button" class="btn btn-outline-success jobs" id="灌漿" onclick="handleDelWorker(this)">灌漿：</button>
                    </div>
        
                    <input type="date" name="date" id="date">
                    <input type="time" name="time" id="time">
        
                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">備註:</label>
                        <textarea class="form-control col" id="remark" name="remark" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">送出</button>
                </form>
			</div>
		</div>
	</div>
</section>
<!--====  End of Single Article  ====-->

<!--======================================
=            Related Article            =
=======================================-->
<!--====  End of Related Article  ====-->

<!--============================
=            Footer            =
=============================-->
<footer>
  <div class="footer-main">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-md-12 m-md-auto align-self-center">
          <div class="block">
            <a href="index.html"><img src="images/logo-alt.png" alt="footer-logo"></a>
            <!-- Social Site Icons -->
            <ul class="social-icon list-inline">
              <li class="list-inline-item">
                <a href="https://www.facebook.com/themefisher"><i class="ti-facebook"></i></a>
              </li>
              <li class="list-inline-item">
                <a href="https://twitter.com/themefisher"><i class="ti-twitter"></i></a>
              </li>
              <li class="list-inline-item">
                <a href="https://www.instagram.com/themefisher/"><i class="ti-instagram"></i></a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-lg-2 col-md-3 col-6 mt-5 mt-lg-0">
          <div class="block-2">
            <!-- heading -->
            <h6>Product</h6>
            <!-- links -->
            <ul>
              <li><a href="team.html">Teams</a></li>
              <li><a href="blog.html">Blogs</a></li>
              <li><a href="FAQ.html">FAQs</a></li>
            </ul>
          </div>
        </div>
        <div class="col-lg-2 col-md-3 col-6 mt-5 mt-lg-0">
          <div class="block-2">
            <!-- heading -->
            <h6>Resources</h6>
            <!-- links -->
            <ul>
              <li><a href="sign-up.html">Singup</a></li>
              <li><a href="sign-in.html">Login</a></li>
              <li><a href="blog.html">Blog</a></li>
            </ul>
          </div>
        </div>
        <div class="col-lg-2 col-md-3 col-6 mt-5 mt-lg-0">
          <div class="block-2">
            <!-- heading -->
            <h6>Company</h6>
            <!-- links -->
            <ul>
              <li><a href="career.html">Career</a></li>
              <li><a href="contact.html">Contact</a></li>
              <li><a href="team.html">Investor</a></li>
              <li><a href="privacy.html">Terms</a></li>
            </ul>
          </div>
        </div>
        <div class="col-lg-2 col-md-3 col-6 mt-5 mt-lg-0">
          <div class="block-2">
            <!-- heading -->
            <h6>Company</h6>
            <!-- links -->
            <ul>
              <li><a href="about.html">About</a></li>
              <li><a href="contact.html">Contact</a></li>
              <li><a href="team.html">Team</a></li>
              <li><a href="privacy-policy.html">Privacy Policy</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center bg-dark py-4">
    <small class="text-secondary">Copyright &copy; <script>document.write(new Date().getFullYear())</script>. Designed &amp; Developed by <a href="https://themefisher.com/">Themefisher</a></small class="text-secondary">
  </div>

  <div class="text-center bg-dark py-1">
    <small> <p>Distributed By <a href="https://themewagon.com/">Themewagon</a></p></small class="text-secondary">
   </div>
</footer>


  <!-- To Top -->
  <div class="scroll-top-to">
    <i class="ti-angle-up"></i>
  </div>
  
  <!-- JAVASCRIPTS -->
  <script src="plugins/jquery/jquery.min.js"></script>
  <script src="plugins/bootstrap/bootstrap.min.js"></script>
  <script src="plugins/slick/slick.min.js"></script>
  <script src="plugins/fancybox/jquery.fancybox.min.js"></script>
  <script src="plugins/syotimer/jquery.syotimer.min.js"></script>
  <script src="plugins/aos/aos.js"></script>
  
  <script src="js/script.js"></script>
  <script>

    // 動態選擇工程名稱
    function handleChangeCSite() {

        // 取得工程名稱id 及 重置工程名稱選單資訊
        var obj = document.getElementById('c_site_name');
        obj.options.length = 0;
        obj.options.add(new Option("請選擇工程...", 1));

        // 獲取工程位置選單資訊
        const e = document.getElementById('c_site_position');
        const c_site_position = e.options[e.selectedIndex].text;

        // 取得資料庫 工程位置與工程名稱 資料(json格式)
        $.get("./manager.php", function(data){
            let json = JSON.parse(data)["result"];
            json.map(function(c_site) {
                if (c_site.site == c_site_position) {
                    obj.options.add(new Option(c_site.name, c_site.name)); //這個相容IE與firefox
                }
            })    
        });
        
    }

    // 新增工人
    function handleAddWorker() {

        // 取得施工人數
        const workersNumber = document.getElementById('c_site_worker').value;
        // 取得施工項目
        const e = document.getElementById('select_job');
        const selectJob = e.options[e.selectedIndex].text;

        // 設定更新後的人數
        document.getElementById(selectJob).value = workersNumber;
        document.getElementById(selectJob).innerText = selectJob + "：" + workersNumber + "人";
        document.getElementById(selectJob).style.display = 'inline';
    }

    // 刪除工人
    function handleDelWorker(obj) {
        
        // 取得施工項目
        document.getElementById(obj.id).value = 0;
        document.getElementById(obj.id).style.display = 'none';
    }

    // 當網頁載入完成後自動執行
    window.onload = function() {

        // 設定今天日期、時間
        var Today = new Date();
        var month = (Today.getMonth() + 1) > 10 ? Today.getMonth() + 1 : "0" + (Today.getMonth() + 1);
        var dDate = (Today.getDate() + 1) > 10 ? Today.getDate() : "0" + Today.getDate();

        var hour = Today.getHours() > 10 ? Today.getHours() : "0" + Today.getHours();
        var minute = Today.getMinutes() > 10 ? Today.getMinutes() : "0" + Today.getMinutes();

        var date = Today.getFullYear() + "-" + month + "-" + dDate;
        var time = hour + ":" + minute;

        document.getElementById('date').value = date;
        document.getElementById('time').value = time;
    }

    // document.onkeydown = function() {
    //     // 避免按Enter後自動送出
    //     if (window.event.keyCode == 13) {
    //         return false;
    //     }
    // }
    </script>
</body>

</html>